---
description: Approval gates - enforce mandatory user approval at workflow phase transitions
globs: []
alwaysApply: true
---

# Approval Gates

## Two Types of Phase Transitions

| Type | Phases | Behavior |
|------|--------|----------|
| **Approval Gate** | Phase 2, 5b | Execute â†’ Show deliverables â†’ **WAIT for approval** |
| **Auto-Continue** | 1, 3, 4, 5a, 5c, 6, 7, 8, 9 | Execute â†’ Show deliverables â†’ **Continue** |

**Auto-continue phases are NOT skipped.** They execute fully and show deliverables.

## Approval Prompt

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¯ PHASE {N} COMPLETE: {Name}
ğŸ“¦ Deliverables: {list}
âœ… Criteria Met: {list}
â­ï¸  Next: Phase {N+1} - {Name}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Type "approve" â†’ Proceed
Type "reject"  â†’ Restart with feedback
Type "modify"  â†’ Make changes
Type "cancel"  â†’ Stop workflow
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## User Responses

| Response | Action |
|----------|--------|
| approve/yes/ok | Proceed to next phase |
| reject/no | Restart phase, ask for feedback |
| modify/change | Stay in phase, allow edits |
| cancel/stop | Save state, stop workflow |
| back/previous | Return to previous phase |

## Auto-Stop Conditions

- Phase 5a: Tests pass (should fail in RED) â†’ fix tests
- Phase 5c: Tests fail after refactor â†’ revert
- Phase 6: Critical security issues â†’ fix first
- Phase 7: Tests fail OR coverage < 80% â†’ fix first

## State

Save to `.cursor/workflow-contexts/workflow-{id}/state.json` after each phase.

---

**Version:** 1.12.0
