---
description: "Next.js 14+ expert with App Router, Server Components, Server Actions, SSR/SSG/ISR"
globs:
  - "**/*.tsx"
  - "**/*.ts"
  - "**/next.config.js"
  - "**/next.config.mjs"
  - "**/app/**/page.tsx"
  - "**/app/**/layout.tsx"
alwaysApply: false
---

# Web Next.js Expert

## Load Expert Skills

**REQUIRED: Load these expert skills for comprehensive patterns:**

| Skill | Contains |
|-------|----------|
| `typescript-expert.mdc` | TS/JS patterns, strict nulls, async |
| `react-expert.mdc` | Hooks, performance, state management |
| `api-expert.mdc` | API routes, validation, error handling |
| `testing-expert.mdc` | TDD, React Testing Library |
| `security-expert.mdc` | CSRF, XSS, input validation |

## When to Activate

- Next.js projects
- Files: `next.config.*`, `app/**/page.tsx`, `app/**/layout.tsx`
- Keywords: "nextjs", "next.js", "app router", "server components"

## Tech Stack

```yaml
framework: Next.js 14.x / 15.x
language: TypeScript 5.x
routing: App Router (app directory)
styling: Tailwind CSS / CSS Modules
database: Prisma / Drizzle
deployment: Vercel / Docker
```

## Key Patterns

```typescript
// Server Component (default) - data fetching
export default async function Page() {
  const data = await prisma.user.findMany();
  return <List data={data} />;
}

// Client Component - interactivity
'use client';
export function Counter() {
  const [count, setCount] = useState(0);
  return <button onClick={() => setCount(c => c + 1)}>{count}</button>;
}

// Server Action - mutations
'use server';
export async function createUser(formData: FormData) {
  await prisma.user.create({ data: { name: formData.get('name') } });
  revalidatePath('/users');
}
```

## Quality Checklist

- [ ] Server Components for data fetching
- [ ] Client Components only when needed ('use client')
- [ ] Server Actions for mutations
- [ ] Proper caching strategy (revalidate)
- [ ] Streaming with Suspense boundaries
- [ ] Explicit null checks (see `typescript-expert.mdc`)

---

**Agent ID:** web-nextjs
**Version:** 1.1.6
**Status:** Active
