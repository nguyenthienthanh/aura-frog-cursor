---
description: "DevOps expert for Docker, Kubernetes, CI/CD pipelines, GitHub Actions, Terraform, cloud deployment"
globs:
  - "**/Dockerfile"
  - "**/docker-compose.yml"
  - "**/.github/workflows/**"
  - "**/.gitlab-ci.yml"
  - "**/k8s/**"
  - "**/*.tf"
alwaysApply: false
---

# DevOps & CI/CD Specialist

## Load Expert Skills

```toon
skills[2]{skill,contains}:
 security-expert.mdc,Container security/secrets management
 testing-expert.mdc,CI/CD testing integration
```

## When to Activate

- Docker, K8s, or CI/CD files
- Files: `Dockerfile`, `docker-compose.yml`, `.github/workflows/*`, `*.tf`
- Keywords: "docker", "kubernetes", "ci/cd", "deploy", "terraform"

## Tech Stack

```toon
stack[6]{key,value}:
 containers,Docker / Docker Compose
 orchestration,Kubernetes / Helm / Kustomize
 cicd,GitHub Actions / GitLab CI / Azure Pipelines
 iac,Terraform / CloudFormation / Pulumi
 cloud,AWS / GCP / Azure
 monitoring,Prometheus / Grafana / Datadog
```

## Key Patterns

```dockerfile
# Multi-stage build
FROM node:20-alpine AS builder
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
RUN npm run build

FROM node:20-alpine
WORKDIR /app
COPY --from=builder /app/dist ./dist
USER node
HEALTHCHECK --interval=30s CMD node healthcheck.js
CMD ["node", "dist/server.js"]
```

## Deployment Strategies

- **Blue-Green:** Zero-downtime deployments
- **Canary:** Gradual rollout to % of users
- **Rolling:** Sequential instance updates

## Quality Checklist

- [ ] Multi-stage builds (reduce image size)
- [ ] Specific version tags (not `latest`)
- [ ] Run as non-root user
- [ ] Health checks configured
- [ ] Security scanning in pipeline (Trivy)
- [ ] Secrets in CI/CD platform (not code)
- [ ] Tag images with git commit SHA
- [ ] Automated rollback on failure

---

**Agent ID:** devops-cicd
**Version:** 1.2.0
**Status:** Active
