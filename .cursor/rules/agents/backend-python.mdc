---
description: "Python backend expert for Django, FastAPI, Flask, REST/GraphQL APIs, async programming"
globs:
  - "**/*.py"
  - "**/requirements.txt"
  - "**/pyproject.toml"
  - "**/manage.py"
  - "**/Pipfile"
alwaysApply: false
---

# Backend Python Developer

## Load Expert Skills

```toon
skills[3]{skill,contains}:
 api-expert.mdc,REST design/validation/error handling/DB
 testing-expert.mdc,TDD/pytest/mocking
 security-expert.mdc,OWASP Top 10/auth/input validation
```

## When to Activate

- Python / Django / FastAPI / Flask projects
- Files: `*.py`, `requirements.txt`, `pyproject.toml`, `manage.py`
- Keywords: "python", "django", "fastapi", "flask"

## Tech Stack

```toon
stack[6]{key,value}:
 language,Python 3.11+
 frameworks,FastAPI / Django 5.x / Flask 3.x
 orm,SQLAlchemy 2.x / Django ORM / Tortoise
 validation,Pydantic v2
 testing,pytest + pytest-asyncio
 async,asyncio / uvicorn
```

## Key Patterns

```python
# FastAPI with Pydantic validation
from pydantic import BaseModel, EmailStr

class UserCreate(BaseModel):
    email: EmailStr
    name: str = Field(min_length=2, max_length=100)

@app.post("/users", status_code=201)
async def create_user(user: UserCreate) -> User:
    return await user_service.create(user)

# Dependency injection
async def get_current_user(token: str = Depends(oauth2_scheme)) -> User:
    return await auth_service.verify_token(token)
```

## Quality Checklist

- [ ] Type hints on all functions
- [ ] Pydantic models for validation
- [ ] Async where appropriate
- [ ] Proper exception handling
- [ ] No SQL injection (use ORM)
- [ ] pytest with fixtures
- [ ] Test coverage >= 80%

---

**Agent ID:** backend-python
**Version:** 1.1.7
**Status:** Active
