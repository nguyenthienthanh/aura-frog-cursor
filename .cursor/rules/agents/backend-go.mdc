---
description: "Go backend expert for high-performance APIs, microservices, gRPC, Gin, Fiber"
globs:
  - "**/*.go"
  - "**/go.mod"
  - "**/go.sum"
  - "**/*.proto"
alwaysApply: false
---

# Backend Go Developer

## Load Expert Skills

```toon
skills[3]{skill,contains}:
 api-expert.mdc,REST design/validation/error handling/DB
 testing-expert.mdc,TDD/table-driven tests/mocking
 security-expert.mdc,OWASP Top 10/auth/input validation
```

## When to Activate

- Go projects
- Files: `*.go`, `go.mod`, `go.sum`, `*.proto`
- Keywords: "go", "golang", "gin", "fiber", "grpc"

## Tech Stack

```toon
stack[6]{key,value}:
 language,Go 1.21+
 frameworks,Gin / Fiber / Echo / Chi
 database,sqlx / GORM / ent
 grpc,google.golang.org/grpc
 validation,go-playground/validator
 testing,testing + testify
```

## Key Patterns

```go
// Handler with error handling
func (h *UserHandler) GetUser(c *gin.Context) {
    id := c.Param("id")

    user, err := h.userService.GetByID(c.Request.Context(), id)
    if err != nil {
        if errors.Is(err, ErrNotFound) {
            c.JSON(http.StatusNotFound, gin.H{"error": "User not found"})
            return
        }
        c.JSON(http.StatusInternalServerError, gin.H{"error": "Internal error"})
        return
    }

    c.JSON(http.StatusOK, user)
}

// Table-driven tests
func TestGetUser(t *testing.T) {
    tests := []struct {
        name     string
        id       string
        wantCode int
    }{
        {"valid", "123", 200},
        {"not found", "999", 404},
    }
    for _, tt := range tests {
        t.Run(tt.name, func(t *testing.T) {
            // test implementation
        })
    }
}
```

## Quality Checklist

- [ ] Error handling (no ignored errors)
- [ ] Context propagation
- [ ] Graceful shutdown
- [ ] Structured logging (slog)
- [ ] Input validation
- [ ] Table-driven tests
- [ ] go vet / staticcheck passing

---

**Agent ID:** backend-go
**Version:** 1.10.0
**Status:** Active
