---
description: "Accurate effort estimation using story points, t-shirt sizing, three-point estimation. Phase-by-phase Aura Frog estimates. Multipliers for unfamiliar tech, legacy code. Track actuals for continuous improvement."
globs: []
alwaysApply: false
---

# Estimation

**Type:** Reference Skill
**Use:** On-demand for task estimation and planning

## When to Use

Use this skill when:
- Planning sprints or iterations
- Estimating new features/tasks
- Phase 1 (Understand) of workflow
- User requests time estimates
- Breaking down epics

## Estimation Techniques

### Story Points (Fibonacci Scale)

| Points | Complexity | Typical Duration | Example |
|--------|------------|------------------|---------|
| 1 | Trivial | 2-4 hours | Config change, typo fix |
| 2 | Simple | Half day (4h) | Small bug fix, simple component |
| 3 | Moderate | 1-2 days | Standard feature, API endpoint |
| 5 | Complex | 2-4 days | Complex feature, integration |
| 8 | Very Complex | 1 week | Large feature, multi-component |
| 13 | Epic-size | Needs breakdown | Too large, must split |
| 21+ | Too large | Must split | Break into smaller tasks |

**Rule:** If > 8 points, break into smaller tasks.

**Why Fibonacci?** The gap increases as uncertainty grows. 5 vs 8 is more meaningful than 5 vs 6.

### T-Shirt Sizing (Quick Estimates)

| Size | Points Equivalent | Use Case |
|------|-------------------|----------|
| XS | 1 | Config change, typo fix, one-line change |
| S | 2-3 | Small feature, bug fix, simple component |
| M | 5 | Standard feature, typical task |
| L | 8 | Complex feature, requires design |
| XL | 13+ | Epic, needs breakdown into smaller tasks |

**Use for:** Initial rough estimates, backlog grooming

### Three-Point Estimation (Risk-Aware)

```
Estimate = (Optimistic + 4×Most Likely + Pessimistic) / 6
```

**Example:**
- Optimistic: 4 hours (everything goes right)
- Most Likely: 8 hours (realistic case)
- Pessimistic: 20 hours (everything goes wrong)
- **Estimate:** (4 + 32 + 20) / 6 = **9.3 hours**

**Use for:** High-stakes projects, unfamiliar tech, critical features

## Aura Frog Phase Estimates

### By Feature Size

| Phase | Small (3pts) | Medium (5pts) | Large (8pts) |
|-------|--------------|---------------|--------------|
| 1. Understand | 1h | 2h | 4h |
| 2. Design | 1h | 3h | 6h |
| 3. UI Breakdown | 1h | 2h | 4h |
| 4. Plan Tests | 1h | 2h | 3h |
| 5a. Write Tests (RED) | 2h | 4h | 8h |
| 5b. Implementation (GREEN) | 4h | 8h | 16h |
| 5c. Refactor | 1h | 2h | 4h |
| 6. Review | 1h | 2h | 3h |
| 7. Verify | 1h | 2h | 4h |
| 8. Document | 1h | 2h | 3h |
| 9. Share | 0.5h | 0.5h | 1h |
| **Total** | **14.5h** (~2 days) | **29.5h** (~4 days) | **56h** (~1.5 weeks) |

### Estimation by Task Type

| Task Type | Base Estimate | Notes |
|-----------|---------------|-------|
| Bug fix (known cause) | 2-4h | Use bugfix-quick |
| Bug fix (unknown cause) | 4h + investigation time | Add 50% buffer |
| New API endpoint | 4-8h | Backend-only, skip UI phase |
| UI component | 4-8h | Include design, tests |
| Integration (3rd party) | 8-16h | Add 1.5x multiplier |
| Database migration | 4-8h | Add testing, rollback time |
| New feature (full stack) | Sum of parts | Use phase estimates |

## Estimation Adjustments

### Multipliers (Apply to Base Estimate)

| Factor | Multiplier | Example |
|--------|------------|---------|
| New developer | 1.5x | Unfamiliar with codebase |
| Unfamiliar tech | 1.5x | First time using library/framework |
| Legacy code | 1.3x | Poor docs, technical debt |
| Third-party integration | 1.5x | API docs, rate limits, testing |
| Unclear requirements | 1.5x | Need investigation time |
| **Multiple combined** | Multiply together | 1.5x × 1.3x = 1.95x |

**Example:**
```
Base: 8 hours (API endpoint)
Unfamiliar tech (1.5x): 8 × 1.5 = 12 hours
Legacy code (1.3x): 12 × 1.3 = 15.6 hours
≈ 16 hours total
```

### Buffer Guidelines

| Confidence Level | Buffer | When to Use |
|------------------|--------|-------------|
| High (done before) | 10% | Familiar task, clear requirements |
| Medium (similar work) | 20% | Similar but not identical |
| Low (new territory) | 30-50% | New tech, unclear scope |

**Example with buffer:**
```
Estimate: 8 hours
Confidence: Medium (20% buffer)
Total: 8 + (8 × 0.2) = 9.6 hours ≈ 10 hours
```

## Quick Estimation Template

```markdown
## Task: [Name]

**Complexity:** [1-13 points / XS-XL]
**Confidence:** [High / Medium / Low]

### Phase Breakdown

| Phase | Base | Adjusted | Notes |
|-------|------|----------|-------|
| 1. Understand | 2h | 2h | Requirements clear |
| 2. Design | 3h | 4.5h | Unfamiliar tech (1.5x) |
| 3. UI | - | - | Backend-only (skip) |
| 4. Plan Tests | 2h | 2h | |
| 5a. Write Tests | 4h | 4h | |
| 5b. Implement | 8h | 12h | Unfamiliar tech (1.5x) |
| 5c. Refactor | 2h | 2h | |
| 6. Review | 2h | 2h | |
| 7. Verify | 2h | 2h | |
| 8. Document | 2h | 2h | |
| 9. Share | 0.5h | 0.5h | |
| **Subtotal** | **27.5h** | **33h** | |
| Buffer (20%) | - | **6.6h** | Medium confidence |
| **Total** | **27.5h** | **~40h** | **5 days** |

**Adjustments:**
- Unfamiliar tech (React Native): 1.5x on phases 2, 5b
- Medium confidence: 20% buffer
```

## Estimation Anti-Patterns

| Anti-Pattern | Problem | Fix |
|--------------|---------|-----|
| Padding excessively | Creates distrust, delays | Use explicit buffer instead |
| Single point estimate | Ignores risk, no range | Use three-point estimation |
| Copying estimates | Different contexts | Estimate fresh each time |
| Not tracking actuals | No learning | Track and compare |
| Estimating alone | Bias, blind spots | Team estimation (Planning Poker) |
| Treating as deadlines | Pressure, shortcuts | Estimates are guesses, not commitments |

## Tracking & Learning

After completion, record actuals vs estimates:

```markdown
## Estimate Review: [Task]

**Task:** Add user authentication API
**Estimated:** 8h (Medium confidence, 20% buffer = 10h total)
**Actual:** 12h
**Variance:** +20% (2h over estimate)

**Reason for Variance:**
- Third-party OAuth library docs were outdated
- Spent 3h debugging integration issue
- Testing took longer than expected (edge cases)

**Learning:**
- Add 1.5x multiplier for third-party integrations
- OAuth integrations typically take 12-16h, not 8h
- Allocate more time for integration testing

**Updated Estimate for Similar Tasks:**
- Base: 8h
- Third-party (1.5x): 12h
- Buffer (20%): 14.4h ≈ **15h**
```

**Track variance over time:**
```
Sprint 1: +30% average (overestimated difficulty)
Sprint 2: +15% (getting better)
Sprint 3: +5% (much more accurate)
```

## Planning Poker (Team Estimation)

**Process:**
1. Product owner explains task
2. Developers ask clarifying questions
3. Each developer selects a card (1, 2, 3, 5, 8, 13) privately
4. All reveal simultaneously
5. Discuss outliers (why highest/lowest?)
6. Re-vote if needed
7. Consensus or average

**Benefits:**
- Surfaces different perspectives
- Reduces anchoring bias
- Encourages discussion

## Estimation Best Practices

### Do's
- ✅ Break large tasks (> 8 points) into smaller ones
- ✅ Use team estimation (Planning Poker)
- ✅ Track actual vs estimated time
- ✅ Include explicit buffer (don't hide it)
- ✅ Re-estimate when scope changes
- ✅ Learn from past variance
- ✅ Use ranges, not single points
- ✅ Estimate based on complexity, not time initially

### Don'ts
- ❌ Estimate in exact hours initially (use points first)
- ❌ Pad secretly (use explicit buffer)
- ❌ Estimate without understanding requirements
- ❌ Ignore historical data
- ❌ Promise estimates as firm deadlines
- ❌ Estimate alone (team input is valuable)
- ❌ Forget to account for unknowns
- ❌ Treat all developers as equal velocity

## Converting Points to Time

**Velocity-based:**
```
Team velocity: 30 points/week
Feature: 15 points
Estimate: 15/30 = 0.5 weeks = 2.5 days
```

**Individual velocity:**
```
Developer A velocity: 8 points/week
Developer B velocity: 5 points/week
Same 8-point task:
- Dev A: 1 week
- Dev B: 1.6 weeks
```

## References

- Scrum Guide: Estimation techniques
- Planning Poker: Consensus estimation
- Evidence-Based Scheduling: Joel Spolsky
- Cone of Uncertainty: Project estimation
