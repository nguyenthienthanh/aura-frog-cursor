---
description: "Smart workflow phase skipping rules. Auto-detects when to skip phases based on task context (backend-only, prototype, bug fix, docs-only, config). Maintains minimum quality while optimizing speed."
globs: []
alwaysApply: false
---

# Smart Phase Skipping

**Type:** Reference Skill
**Use:** During workflow orchestration to optimize phase execution

## When to Use

Use this skill when:
- Starting workflow (to determine which phases apply)
- Task context suggests certain phases aren't needed
- User requests faster workflow
- During pm-operations-orchestrator workflow planning

## Phase Skip Rules

```toon
skip_rules[7]{condition,skip_phases,keep_phases,reason}:
 Backend-only task,Phase 3 (UI),All others,No UI to design
 Prototype/POC,Phase 4/5a/7/8,1/2/5b/6,Quick validation
 "No tests" stated,Phase 4/5a/7,All others,User preference (not recommended)
 Bug fix (small),Phase 2/3/4,1/5b/6/7,Direct to bugfix-quick
 Documentation only,Phase 2-7,1/8/9,No code changes
 Config change only,Phase 2/3/4/5a/6/8,1/5b/7,Simple update
 Frontend-only,-,All,Full workflow (UI important)
```

## Detection Logic

### Backend-Only Indicators

**Keywords:** API, endpoint, service, database, migration, cron, queue, worker, background job

**File patterns:** `/services/`, `/api/`, `/models/`, `/migrations/`, `/controllers/`

**No mention of:** UI, screen, component, page, form, button, layout

**Example:**
```
User: "Create API endpoint for user authentication"
â†’ Backend-only detected
â†’ Skip Phase 3 (UI Breakdown)
```

### Prototype/POC Indicators

**Keywords:** POC, prototype, spike, experiment, quick test, proof of concept

**Phrases:** "just want to try", "see if it works", "validate idea", "quick demo"

**Example:**
```
User: "POC for integrating Stripe payments"
â†’ Prototype detected
â†’ Skip Phase 4, 5a (tests), Phase 7 (verification), Phase 8 (docs)
â†’ Focus on Phase 5b (implementation) to prove concept
```

### Bug Fix Indicators

**Keywords:** bug, fix, broken, not working, error, crash, issue

**Scope:** Single file, specific function, known cause

**Example:**
```
User: "Fix login button not working"
â†’ Bug fix detected
â†’ Use bugfix-quick skill instead
â†’ Skip workflow entirely (use 4-step bug process)
```

### Documentation-Only Indicators

**Keywords:** document, readme, docs, documentation, write guide

**No mention of:** code, implement, build, create feature

**Example:**
```
User: "Document the authentication API"
â†’ Documentation-only detected
â†’ Skip Phase 2-7
â†’ Jump to Phase 8 (Document)
```

### Config/Environment Indicators

**Keywords:** config, environment, env variable, setting, configuration

**File patterns:** `.env`, `config.yml`, `settings.json`

**Example:**
```
User: "Add STRIPE_API_KEY to environment variables"
â†’ Config change detected
â†’ Skip Phase 2, 3, 4, 5a, 6, 8
â†’ Keep Phase 1 (understand), 5b (implement), 7 (verify)
```

## Skip Confirmation Format

Always confirm with user before skipping phases:

```markdown
## ğŸ¯ Workflow Plan

**Task:** [description]
**Detected Context:** [Backend-only | Prototype | Bug fix | etc.]

**Proposed Workflow:**

âœ… Phase 1: Understand (1h)
âœ… Phase 2: Design (2h)
â­ï¸ Phase 3: UI Breakdown - **SKIPPED** (no UI components)
âœ… Phase 4: Plan Tests (1h)
âœ… Phase 5a-c: Implementation (8h)
âœ… Phase 6: Review (1h)
âœ… Phase 7: Verify (1h)
âœ… Phase 8: Document (1h)
âœ… Phase 9: Share (0.5h)

**Estimated Time:** 15.5h (vs 29.5h full workflow)

**Options:**
- `approve` â†’ Use this workflow
- `full` â†’ Run all 9 phases
- `modify: <changes>` â†’ Adjust workflow

Approve this plan?
```

## Workflow Combinations

### Full Workflow (Default)
All 9 phases - Complex features with UI

```
Phase 1 â†’ Phase 2 â†’ Phase 3 â†’ Phase 4 â†’ Phase 5 â†’ Phase 6 â†’ Phase 7 â†’ Phase 8 â†’ Phase 9
```

### Backend Feature
```
Phase 1 â†’ Phase 2 â†’ Phase 4 â†’ Phase 5 â†’ Phase 6 â†’ Phase 7 â†’ Phase 8 â†’ Phase 9
Skip: Phase 3 (UI)
```

### Quick Prototype
```
Phase 1 â†’ Phase 2 â†’ Phase 5b â†’ Phase 6
Skip: Phase 3, 4, 5a, 5c, 7, 8, 9
Focus: Prove concept works
```

### Bug Fix
```
bugfix-quick skill (4 steps)
Skip: Entire workflow (use dedicated bug process)
```

### Documentation Only
```
Phase 1 â†’ Phase 8 â†’ Phase 9
Skip: Phase 2-7
```

### Config/Environment Change
```
Phase 1 â†’ Phase 5b â†’ Phase 7
Skip: Phase 2, 3, 4, 5a, 5c, 6, 8, 9
```

### Frontend-Only (No Backend)
```
Phase 1 â†’ Phase 2 â†’ Phase 3 â†’ Phase 4 â†’ Phase 5 â†’ Phase 6 â†’ Phase 7 â†’ Phase 8 â†’ Phase 9
Skip: None (UI requires full workflow)
```

## Override Rules

User can always override automatic skip detection:

**Include skipped phases:**
```
User: "Include tests even though it's a prototype"
â†’ Re-enable Phase 4, 5a, 7
```

**Force full workflow:**
```
User: "Use full workflow"
â†’ No skipping, run all 9 phases
```

**Skip additional phases (not recommended):**
```
User: "Skip review"
â†’ Skip Phase 6 (show warning about quality risk)
```

**Warning for risky skips:**
```markdown
âš ï¸ **Warning: Skipping Quality Phase**

You requested to skip Phase 6 (Review).

**Risks:**
- Security vulnerabilities may go undetected
- Code quality issues may slip through
- Performance problems may not be caught

**Recommendation:** Keep Phase 6, it only adds ~1-2 hours

Continue with skip? [yes/no]
```

## Decision Tree

```
Is there UI involved?
â”œâ”€â”€ No â†’ Skip Phase 3 (UI Breakdown)
â””â”€â”€ Yes â†’ Include Phase 3

Is this a prototype/POC?
â”œâ”€â”€ Yes â†’ Skip Phase 4, 5a, 7, 8 (focus on proving concept)
â””â”€â”€ No â†’ Include all testing/verification

Is this a simple bug fix?
â”œâ”€â”€ Yes â†’ Use bugfix-quick skill (skip workflow)
â””â”€â”€ No â†’ Continue workflow planning

Is this documentation only?
â”œâ”€â”€ Yes â†’ Jump to Phase 8 (Document)
â””â”€â”€ No â†’ Continue full workflow

Is this a config change only?
â”œâ”€â”€ Yes â†’ Skip Phase 2, 3, 4, 5a, 6, 8
â””â”€â”€ No â†’ Continue full workflow

Default: Full workflow (all 9 phases)
```

## Logging Skipped Phases

Always document why phases were skipped:

```markdown
## Workflow Log

**Task:** Add user authentication API
**Date:** 2025-01-20

**Skipped Phases:**
- Phase 3 (UI Breakdown): No UI components in scope
- Phase 5c (Refactor): Deferred to tech debt sprint (time constraint)

**Rationale:**
- Backend-only feature (API endpoints only)
- Implementation already clean, refactor not critical

**Approved By:** [User]
```

## Minimum Quality Threshold

**Never skip without good reason:**
- Phase 1 (Understand) - ALWAYS run (need requirements)
- Phase 6 (Review) - Skip only for prototypes/POCs
- Phase 7 (Verify) - Skip only for docs/config

**For production code:**
- Phase 4 (Plan Tests) - Recommended
- Phase 5a (Write Tests) - Recommended
- Phase 7 (Verify) - Required

## Re-evaluation

**If scope changes mid-workflow:**

```markdown
âš ï¸ **Scope Change Detected**

**Original:** Backend API endpoint
**Current:** API endpoint + UI component

**Recommendation:** Add Phase 3 (UI Breakdown)

The task now includes UI, which wasn't in the original scope.

Add Phase 3 now? [yes/no/later]
```

## Best Practices

### Do's
- âœ… Confirm skip decisions with user
- âœ… Log skipped phases with reasons
- âœ… Allow user override
- âœ… Maintain minimum quality (Phase 6, 7 for production)
- âœ… Re-evaluate if scope changes
- âœ… Document skips in workflow log

### Don'ts
- âŒ Skip Phase 1 (always understand first)
- âŒ Skip Phase 6 for production code (quality matters)
- âŒ Auto-skip without user awareness
- âŒ Skip tests without explicit request
- âŒ Skip documentation for public APIs
- âŒ Skip verification for critical features

## References

- Workflow orchestrator: Main workflow skill
- Phase guides: Detailed phase documentation
- Bug fix workflow: bugfix-quick skill
- Project contexts: Task type detection patterns

---

**Version:** 1.11.0
**Last Updated:** 2026-02-13
