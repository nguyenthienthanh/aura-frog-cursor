---
description: "Development patterns for React, Vue, Laravel, Next.js, React Native - state management, forms, API integration"
globs: []
alwaysApply: false
---

# Dev Expert Skill

**Type:** Reference Skill
**Priority:** Medium
**Used By:** All development agents

---

## Sub-Skills

| File | Purpose |
|------|---------|
| `react-native-patterns.mdc` | React Native specific patterns |
| `state-management.mdc` | Zustand, Redux, Pinia patterns |

---

## When to Use

- Phase 5b (Implementation) - Coding patterns
- Framework-specific guidance
- State management decisions
- API integration patterns

---

## Quick Reference

### React Patterns

- Custom hooks for reusable logic
- Composition over inheritance
- Props drilling vs context

### State Management

- Local state for UI
- Global state for shared data
- Server state for API data (React Query/SWR)

---

## React Patterns

### Custom Hooks

```tsx
// useUser.ts
export function useUser(userId: string) {
  const [user, setUser] = useState<User | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<Error | null>(null);

  useEffect(() => {
    fetchUser(userId)
      .then(setUser)
      .catch(setError)
      .finally(() => setLoading(false));
  }, [userId]);

  return { user, loading, error };
}
```

### Compound Components

```tsx
// Tabs.tsx
export function Tabs({ children }) {
  const [activeTab, setActiveTab] = useState(0);
  return (
    <TabsContext.Provider value={{ activeTab, setActiveTab }}>
      {children}
    </TabsContext.Provider>
  );
}

Tabs.List = TabList;
Tabs.Panel = TabPanel;

// Usage
<Tabs>
  <Tabs.List>
    <Tab>Tab 1</Tab>
    <Tab>Tab 2</Tab>
  </Tabs.List>
  <Tabs.Panel>Content 1</Tabs.Panel>
  <Tabs.Panel>Content 2</Tabs.Panel>
</Tabs>
```

---

## Vue 3 Patterns

### Composition API

```vue
<script setup lang="ts">
import { ref, computed, onMounted } from 'vue';

const count = ref(0);
const doubled = computed(() => count.value * 2);

onMounted(() => {
  console.log('Component mounted');
});
</script>
```

### Composables

```typescript
// useCounter.ts
export function useCounter(initial = 0) {
  const count = ref(initial);
  const increment = () => count.value++;
  const decrement = () => count.value--;
  return { count, increment, decrement };
}
```

---

## Laravel Patterns

### Repository Pattern

```php
// UserRepository.php
interface UserRepositoryInterface {
    public function find(int $id): ?User;
    public function create(array $data): User;
}

class UserRepository implements UserRepositoryInterface {
    public function find(int $id): ?User {
        return User::find($id);
    }
}
```

### Service Layer

```php
// UserService.php
class UserService {
    public function __construct(
        private UserRepositoryInterface $users
    ) {}

    public function register(array $data): User {
        // Validation, business logic
        return $this->users->create($data);
    }
}
```

---

## Next.js Patterns

### App Router

```typescript
// app/users/[id]/page.tsx
export default async function UserPage({ params }: { params: { id: string } }) {
  const user = await fetchUser(params.id);
  return <UserProfile user={user} />;
}
```

### Server Actions

```typescript
// actions/user.ts
'use server'

export async function updateUser(formData: FormData) {
  const name = formData.get('name');
  await db.user.update({ where: { id }, data: { name } });
  revalidatePath('/profile');
}
```

---

## API Integration

### React Query

```tsx
function UserProfile({ userId }: { userId: string }) {
  const { data, isLoading, error } = useQuery({
    queryKey: ['user', userId],
    queryFn: () => fetchUser(userId),
  });

  if (isLoading) return <Spinner />;
  if (error) return <Error message={error.message} />;
  return <Profile user={data} />;
}
```

### Error Handling

```typescript
async function fetchWithErrorHandling<T>(url: string): Promise<T> {
  const response = await fetch(url);

  if (!response.ok) {
    throw new ApiError(
      response.statusText,
      response.status
    );
  }

  return response.json();
}
```

---

## Form Handling

### React Hook Form

```tsx
function LoginForm() {
  const { register, handleSubmit, formState: { errors } } = useForm<LoginData>();

  const onSubmit = async (data: LoginData) => {
    await login(data);
  };

  return (
    <form onSubmit={handleSubmit(onSubmit)}>
      <input {...register('email', { required: 'Email required' })} />
      {errors.email && <span>{errors.email.message}</span>}
      <button type="submit">Login</button>
    </form>
  );
}
```

---

**Load sub-skills based on project framework.**

---

**Version:** 1.1.4
**Last Updated:** 2025-12-04
